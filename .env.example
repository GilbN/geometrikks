# GeoMetrikks API Configuration
# Copy this file to .env and adjust values as needed

# ============================================
# Application Settings
# ============================================
APP_NAME=GeoMetrikks API
APP_VERSION=0.1.0
APP_DEBUG=false
APP_ENVIRONMENT=development  # development, staging, production
APP_DESCRIPTION=Real-time GeoIP lookups and traffic analytics API

# ============================================
# API Server Settings
# ============================================
API_HOST=0.0.0.0
API_PORT=8000
API_WORKERS=1
API_RELOAD=true  # Auto-reload on code changes (development only)
API_LOG_LEVEL=info  # debug, info, warning, error, critical

# ============================================
# Database Settings
# ============================================
DB_USER = geouser
DB_PASSWORD = geopass
DB_HOST = localhost
DB_PORT = 5432
DB_NAME = geometrikks

DB_ECHO=false  # Enable SQLAlchemy query logging
DB_ECHO_POOL=false  # Enable SQLAlchemy connection pool logging
DB_POOL_SIZE=5
DB_MAX_OVERFLOW=10
DB_POOL_TIMEOUT=30
DB_POOL_RECYCLE=3600
DB_POOL_DISABLED=false
DB_POOL_PRE_PING=true

# ============================================
# GeoIP Settings
# ============================================
GEOIP_DB_PATH=./data/GeoLite2-City.mmdb
GEOIP_CACHE_ENABLED=true
GEOIP_CACHE_TTL=86400  # 24 hours
GEOIP_LOCALES=["en"]
# Validation flags (enable in production)
GEOIP_VALIDATE_DB_PATH=false
GEOIP_VALIDATE_LOCALES=true

# ============================================
# Log Parser Settings
# ============================================

LOGPARSER_LOG_PATH=/var/log/nginx/access.log # Path to nginx access log (adjust to your environment)
LOGPARSER_POLL_INTERVAL=1.0 # Poll interval in seconds to check for new entries
LOGPARSER_SEND_LOGS=true # When true, store parsed access logs in the database (otherwise geo-only)
LOGPARSER_HOST_NAME=localhost # Host name to use in log entries
LOGPARSER_BATCH_SIZE=100 # Batch size for DB ingestion
LOGPARSER_COMMIT_INTERVAL=5.0 # Commit interval in seconds for DB ingestion
LOGPARSER_SKIP_VALIDATION=false # Skip log validation
LOGPARSER_STORE_DEBUG_LINES=true # Store debug lines raw log in the database
